{
	"district": {
		"identifier": "MN-HennepinCo-Minneapolis-superDistrict", //-all bulks/uses
		"name": "superDistrict",
		"districtType": "superDistrict"
	},
	"last_updated": "20230705",
	"author": "OZFS Team",
	//notes: this base district contains all constraints that are "generally" listed, i.e. within the following sections of Minneapolis's code: 
	//	- chapter 535: Regulations of General Applicability
	//	- chapter 536: Specific Development Standards
	//	- chapter 537: Accessory Uses & Structures
	//  	- chapter 546: Residence Districts
	//  		- article I. - General Provisions
	//			- article V. - R2B Multiple-family District

	"accessoryStructurePermissions": {
		"bulkOptionality": [
			{
				"bulks": ["single-family", "two-family"],
				"allowances": {
					"num": 1,
					"types": "ADU, garage", //I need to check this for factuality
				}
			}
		]
	},
	}
	"constraints": [
		{
			"constraintsModule": ["floorArea", "floorWidth"],
			"lot": {
				"floorArea": {
					"unit": {
						"standard": {
	 						"minimum": 500
	 					},
	 					"efficiency": {
	 						"minimum": 350
	 					}
					}

				},
				"developmentOptionality": [
					{
						"developmentType": "primary/accessory",
						"primaryStructures": {
							"bulkOptionality": [
								{
									"bulks": ["single-family", "two-family", "three-family"],
									"floorwidth": { //we should have a field for a municipality's defining which access width is measured for each muni.
										"minimum": {
											"value": 18, //feet
											"applicableFloorArea": 0.8 //this is only applicable to 80% of any floor area
										}
									},
								}
							]
						},
						"accessoryStructures": {	
							"ADbulkOptionality": [
								{
									"ADbulk": "ADU",
									"ADtypeOptionality": [
										{
											"ADtype": "detached",
											"floorArea": {
												"maximum": [
													{
														"lesserOf": 
														{
															"greaterOf": [
																{
																	"maximum": 1300
																}
																{
																	"maximum": "16% of gross floor area of principal structure"
																}
															]
														},
														{
															"maximum": 1600,
														}
													}
												] 
											}
										},
										{
											"ADtype": ["internal", "attached"],
											"floorArea": {
												"maximum": 800
											}
										},
									]
								}
								{
									"ADbulk": "garage",
									"ADtypeOptionality": [
										{
											"ADtype": ["detached", "attached"],
											"districtTypeGroups": [
												{
													"districts": ["Residential", "OR1"],
													"bulkOptionality": [
														{
															"bulks": ["single-family", "two-family", "three-family"],
															"floorArea": {
																// "minimum": 300, not sure where this came from atm
																"maximum": [
																	{
																		"greaterOf": [
																			{
																				"maximum": 676
																			}
																			{
																				"maximum": "lotArea: 10%"
																			}
																		]
																	},
																	{
																		"maximum": 1000,
																	}
																] 
															}
														},
														{
															"bulks": "all others",
															"floorArea": {
																"maximum": [
																	{
																		"greaterOf": [
																			{
																				"maximum": 676
																			}
																			{
																				"maximum": "lotArea: 10%"
																			}
																		]
																	},
																] 
															}
														},
													]
												}
												{
													"districts": "all others",
													"garageOptionality" : [
														{
															"garageType": {
																"not": ["interior", "entirely below grade", "2+ stoires"]
															},
															"floorArea": {
																"maximum": [
																	{
																		"greaterOf": [
																			{
																				"maximum": 676
																			}
																			{
																				"maximum": "lotArea: 10%"
																			}
																		]
																	},
																] 
															}
														}
													]
												}
											]
										}
									]
								}
							]
						}
					}
				]
			}
		},
		{
			"constraintsModule": "footprint",
			"lot": {
				"developmentOptionality": [
					{
						"developmentType": "primary/accessory",
			 			"primaryStructures": {
						
						},
						"accessoryStructures": {
							"ADtypeOptionality": [
								{
									"types": ["detached"],
									"footprint": {
										"total": {
											"maximum": {
												"lesserOf" :[
													{
														"greaterOf": [
															{
																"maximum": 676
															}
															{
																"maximum": "10% of the lot area"
															}
														]
													},
													{
														"maximum": 1000,
													}
												]
											}
										}
									}
								}
							]
						}
					}	
				]
			}
		},
		"ADtypeOptionality": [
			{
				"types": "internal",
				"stories": {
					"maximum": 1
				}
			}
		]
		{
			"constraintsModule": ["height", "stories"],
			"lot": {
				"developmentOptionality": [
					{
						"developmentType": "primary/accessory",
			 			"primaryStructures": {
						
						},
						"accessoryStructures": {
							"height": {
								"maximum": "same as primary structure",
								"codeLink": "https://library.municode.com/mn/minneapolis/codes/code_of_ordinances?nodeId=MICOOR_TIT20ZOCO_CH537ACUSST_537.50MAHE",
								"ADtypeOptionality": [
									{
										"types": "attached",
										"height": {
											"wall": {
												"maximum": 14
											},
											"roof": {
												"maximum": 20
											},
											"codeLink": "(insert link here)"
										}
									},
									{
										"types": "detached",
										"height": {
											"maximum": 21,
											"codeLink": "https://library.municode.com/mn/minneapolis/codes/code_of_ordinances?nodeId=MICOOR_TIT20ZOCO_CH537ACUSST_537.110ALACUSST"
										}
										"districtTypeGroups":  [
											{
												"districts": ["Residential", "OR1"],
												"height": {
													"wall": {
														"maximum": [10, [14, "..."]]
													},
													"roof": {
														"maximum": [10, [16, "..."], [20, "..."]]
													},
													"codeLink": "https://library.municode.com/mn/minneapolis/codes/code_of_ordinances?nodeId=MICOOR_TIT20ZOCO_CH537ACUSST_537.50MAHE"
												}
											},
										]
									}
								],
								"bulkOptionality": [
									{
										"bulks": ["single-family", "two-family", "three-family"],
										"height": {
											"wall": {
												"maximum": [10, [14, "..."]]
											},
											"roof": {
												"maximum": [10, [16, "..."], [20, "..."]]
											},
											"codeLink": "https://library.municode.com/mn/minneapolis/codes/code_of_ordinances?nodeId=MICOOR_TIT20ZOCO_CH537ACUSST_537.50MAHE"
										}
									}
								]
							}
						}
					}
				]
			}
		},								
		{
			"constraintsModule": ["setbacks", "ADallowedLotLocation"],
			"lot": {
				"developmentOptionality": [
					{
						"developmentType": "primary/accessory",
						"primaryStructures": {

						},
				 		"accessoryStructures": {
				 			"ADallowedLotLocation": {
				 				"ADtypeOptionality": [
				 					{
				 						"type": "attached",
				 						"value": ["interior side yard", "rear yard"]
				 					}
				 					{
				 						"type": "detached",
				 						"value": "rear yard",
				 					}
				 				]
				 			},
				 			"bulkOptionality": [
				 				{
				 					"bulk": "ADU",
				 	
				 					"ADtypeOptionality": [
				 						{
				 							"type": "detached",
				 							"setbacks": {
												"rear": [3, [1, "located in greater of rear 40 feet or 20% of the lot AND setback fromPrimaryStructure is a min. of 10' AND height is a max if 16'"], ["primary", "where vehicle access doors face the interior side lot line"], [5, "when coincides with side lot line of a property in a residence or office residence district"]], 
												"side": {
													"interior": [3, [1, "located in greater of rear 40 feet or 20% of the lot AND setback fromPrimaryStructure is min.:10"], ["primary", "where vehicle access doors face the interior side lot line"]]
												},
												"reverseCorner": ["A detached accessory dwelling unit on a reverse corner lot shall be no closer to the side lot line adjacent to the street than a distance equal to two-thirds (â…”) of the depth of the required front yard specified in the yard requirements table of the district of the adjacent property to the rear"]
				 								"fromAnotherStructure": {
				 									"primaryResidentialStructure": 20,
				 									"habitableDwelling": 6
				 								}
												"codeLink": "https://library.municode.com/mn/minneapolis/codes/code_of_ordinances?nodeId=MICOOR_TIT20ZOCO_CH537ACUSST_537.110ALACUSST"
				 							},
				 						}
									]
				 				}
				 				{
				 					"bulk": "garage",
				 					"setbacks": {
					 					"rear": [3, [0, "if garge doors face lot line"], [1, "located in greater of rear 40 feet or 20% of the lot AND setback:fromPrimaryStructure: min.:10 AND height:max: 16"]], 
					 					"side": {
					 						"interior": [3, [0, "if garage doors face lot line"], [1, "located in greater of rear 40 feet or 20% of the lot AND setback:fromPrimaryStructure: min.:10 AND height:max: 16"]]
					 					},
					 				},
				 					"typeOptionality": [
				 						{
				 							"type": "detached",
				 							"setbacks": {
				 								"fromAnotherStructure": {
				 									"habitableDwelling": 6
				 								}
				 							}			 							
				 						}
				 					]
				 				}
				 			]
						}	
					}
				]
			}
		}
	]
}
